<form [formGroup]="produitForm" (ngSubmit)="onSubmit()" class="produit-form">
  <div class="form-group">
    <label for="references">Références</label>
    <input id="references" formControlName="references" type="text" class="form-control" />
  </div>

  <div class="form-group">
    <label for="nom_produit">Nom du produit</label>
    <input id="nom_produit" formControlName="nom_produit" type="text" class="form-control" required />
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea id="description" formControlName="description" class="form-control"></textarea>
  </div>

  <div class="form-group">
    <label for="prix_initial">Prix Initial</label>
    <input id="prix_initial" formControlName="prix_initial" type="number" class="form-control" />
  </div>

  <div class="form-group">
    <label for="composition">Composition</label>
    <input id="composition" formControlName="composition" type="text" class="form-control" />
  </div>

  <div class="form-group">
    <label for="entretien">Entretien</label>
    <input id="entretien" formControlName="entretien" type="text" class="form-control" />
  </div>

  <div class="form-group">
    <label for="genre">Genre</label>
    <select id="genre" formControlName="genre" class="form-control">
      <option value="">Sélectionner un genre</option>
      <option value="homme">Homme</option>
      <option value="femme">Femme</option>
    </select>
  </div>

  <div class="form-group">
    <label for="categorie">Catégorie</label>
    <input id="categorie" formControlName="categorie" type="text" class="form-control" />
  </div>

  <div class="form-group">
    <label for="sous_categorie">Sous-catégorie</label>
    <input id="sous_categorie" formControlName="sous_categorie" type="text" class="form-control" />
  </div>

  <div class="form-group">
    <label for="mots_cles">Mots Clés</label>
    <input id="mots_cles" formControlName="mots_cles" type="text" class="form-control" />
  </div>
  <input
  id="image"
  type="file"
  (change)="onImageChange($event)"
  class="form-control"
/>

<!-- Button to add an image with null -->
<button type="button" (click)="addImage(null)" class="btn btn-secondary">
  Add Image Placeholder
</button>>
  <!-- Form Array for Magasins -->
  <div formArrayName="magasins">
    <div *ngFor="let magasin of magasins.controls; let i = index" [formGroupName]="i">
      <div class="form-group">
        <label for="magasin_nom">Magasin Nom</label>
        <input id="magasin_nom" formControlName="nom" type="text" class="form-control" />
      </div>

      <div class="form-group">
        <label for="taille">Taille</label>
        <input id="taille" formControlName="taille" type="text" class="form-control" />
      </div>

      <div class="form-group">
        <label for="couleur">Couleur</label>
        <input id="couleur" formControlName="couleur" type="text" class="form-control" />
      </div>

      <div class="form-group">
        <label for="quantite">Quantité</label>
        <input id="quantite" formControlName="quantite" type="number" class="form-control" />
      </div>

      <button (click)="removeMagasin(i)" type="button" class="btn btn-danger">Supprimer</button>
    </div>
  </div>
  <button (click)="addMagasin()" type="button" class="btn btn-secondary">Ajouter un magasin</button>

  <!-- Promotion Fields -->
  <div formGroupName="promo" class="form-group">
    <h5>Promotion</h5>
    <div>
      <label for="date_debut">Date Début</label>
      <input id="date_debut" formControlName="date_debut" type="date" class="form-control" />
    </div>
    <div>
      <label for="date_fin">Date Fin</label>
      <input id="date_fin" formControlName="date_fin" type="date" class="form-control" />
    </div>
    <div>
      <label for="reduction">Réduction (%)</label>
      <input id="reduction" formControlName="reduction" type="number" class="form-control" />
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Mettre à jour le produit</button>
</form>
